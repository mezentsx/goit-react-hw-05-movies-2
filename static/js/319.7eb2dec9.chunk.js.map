{"version":3,"file":"static/js/319.7eb2dec9.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies-2/./src/components/MovieDetailsPage/MovieDetailsPage.module.css?377f","components/MovieDetailsPage/MovieDetailsPage.js","components/utility/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"div\":\"MovieDetailsPage_div__45TY6\",\"title\":\"MovieDetailsPage_title__A3wLH\",\"text\":\"MovieDetailsPage_text__7QAkW\",\"subtitle\":\"MovieDetailsPage_subtitle__-OnxQ\",\"list\":\"MovieDetailsPage_list__l822w\",\"item\":\"MovieDetailsPage_item__EEela\",\"back\":\"MovieDetailsPage_back__XqSWX\",\"img\":\"MovieDetailsPage_img__2p-zE\",\"divText\":\"MovieDetailsPage_divText__rqOwf\",\"container\":\"MovieDetailsPage_container__A85cQ\",\"divInfo\":\"MovieDetailsPage_divInfo__KBpC1\",\"textInfo\":\"MovieDetailsPage_textInfo__qKGIA\",\"listInfo\":\"MovieDetailsPage_listInfo__XXYMh\",\"itemInfo\":\"MovieDetailsPage_itemInfo__4HbNS\",\"linkInfo\":\"MovieDetailsPage_linkInfo__W47Ho\"};","import { useState, useEffect, Suspense } from \"react\";\r\nimport { Outlet, useParams, useLocation, Link } from \"react-router-dom\";\r\nimport { fetchDetails } from \"../utility/Api\";\r\nimport s from \"./MovieDetailsPage.module.css\";\r\n\r\nexport default function MovieDetailsPage() {\r\n  const { movieId } = useParams();\r\n  const [movieData, setMovieData] = useState([]);\r\n\r\n  const location = useLocation();\r\n\r\n  const backURL = location?.state?.from ?? \"/\";\r\n\r\n  useEffect(() => {\r\n    fetchDetails(movieId).then(setMovieData);\r\n  }, [movieId]);\r\n\r\n  const {\r\n    original_title,\r\n    overview,\r\n    poster_path,\r\n    release_date,\r\n    vote_average,\r\n    genres,\r\n  } = movieData;\r\n  return (\r\n    <>\r\n      <Link to={backURL} className={s.back}>\r\n        Back\r\n      </Link>\r\n      {movieData && (\r\n        <>\r\n          <div className={s.div}>\r\n            <div>\r\n              <img\r\n                src={\r\n                  poster_path && `https://image.tmdb.org/t/p/w500${poster_path}`\r\n                }\r\n                alt=\"movie poster\"\r\n                width={150}\r\n                className={s.img}\r\n              />\r\n            </div>\r\n\r\n            <div className={s.divText}>\r\n              <div className={s.container}>\r\n                <h2 className={s.title}>\r\n                  {original_title}\r\n                  {release_date\r\n                    ? `(${new Date(Date.parse(release_date)).getFullYear()})`\r\n                    : null}\r\n                </h2>\r\n                <p className={s.text}>User Score: {vote_average}</p>\r\n              </div>\r\n\r\n              <div className={s.container}>\r\n                <h3 className={s.subtitle}>Overview</h3>\r\n                <p className={s.text}>{overview}</p>\r\n              </div>\r\n\r\n              <div className={s.container}>\r\n                <h3 className={s.subtitle}>Genres</h3>\r\n                <ul className={s.list}>\r\n                  {\" \"}\r\n                  {genres &&\r\n                    genres.map(({ id, name }) => {\r\n                      return (\r\n                        <li key={id} className={s.item}>\r\n                          {name}\r\n                        </li>\r\n                      );\r\n                    })}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={s.divInfo}>\r\n            <p className={s.textInfo}>Additional information</p>\r\n            <ul className={s.listInfo}>\r\n              <li className={s.itemInfo}>\r\n                <Link\r\n                  to=\"cast\"\r\n                  state={{ from: backURL }}\r\n                  className={s.linkInfo}\r\n                >\r\n                  Cast\r\n                </Link>\r\n              </li>\r\n              <li className={s.itemInfo}>\r\n                <Link\r\n                  to=\"reviews\"\r\n                  state={{ from: backURL }}\r\n                  className={s.linkInfo}\r\n                >\r\n                  Review\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </>\r\n      )}\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <Outlet />\r\n      </Suspense>\r\n    </>\r\n  );\r\n}\r\n","const API_KEY = \"539a98864b15b7d81ff3f8cabb042a1e\";\r\nconst BASE_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport function fetchPopular() {\r\n  return fetch(`${BASE_URL}/trending/all/day?api_key=${API_KEY}`).then((r) => {\r\n    if (!r.ok) {\r\n      throw new Error(\"Something wrong\");\r\n    }\r\n    return r.json();\r\n  });\r\n}\r\nexport function fetchMovie(keyWord) {\r\n  return fetch(\r\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${keyWord}&include_adult=false`\r\n  ).then((r) => {\r\n    if (!r.ok) {\r\n      throw new Error(\"Something wrong\");\r\n    }\r\n    return r.json();\r\n  });\r\n}\r\nexport function fetchDetails(movieId) {\r\n  return fetch(\r\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\r\n  ).then((r) => {\r\n    if (!r.ok) {\r\n      throw new Error(\"Something wrong\");\r\n    }\r\n    return r.json();\r\n  });\r\n}\r\nexport function fetchCast(movieId) {\r\n  return fetch(\r\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\r\n  ).then((r) => {\r\n    if (!r.ok) {\r\n      throw new Error(\"Something wrong\");\r\n    }\r\n    return r.json();\r\n  });\r\n}\r\nexport function fetchReviews(movieId) {\r\n  return fetch(\r\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\r\n  ).then((r) => {\r\n    if (!r.ok) {\r\n      throw new Error(\"Something wrong\");\r\n    }\r\n    return r.json();\r\n  });\r\n}\r\n"],"names":["MovieDetailsPage","movieId","useParams","useState","movieData","setMovieData","location","useLocation","backURL","state","from","useEffect","fetchDetails","then","original_title","overview","poster_path","release_date","vote_average","genres","to","className","s","src","alt","width","Date","parse","getFullYear","map","id","name","Suspense","fallback","API_KEY","BASE_URL","fetchPopular","fetch","r","ok","Error","json","fetchMovie","keyWord","fetchCast","fetchReviews"],"sourceRoot":""}